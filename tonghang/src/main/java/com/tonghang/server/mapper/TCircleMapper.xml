<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tonghang.server.mapper.TCircleMapper" >
  <resultMap id="BaseResultMap" type="com.tonghang.server.entity.TCircle" >
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="title" property="title" jdbcType="VARCHAR" />
    <result column="hot" property="hot" jdbcType="INTEGER" />
    <result column="datetime" property="datetime" jdbcType="TIMESTAMP" />
    <result column="pic" property="pic" jdbcType="VARCHAR" />
    <result column="page_view" property="pageView" jdbcType="INTEGER" />
    <result column="favour" property="favour" jdbcType="INTEGER" />
    <result column="comment" property="comment" jdbcType="INTEGER" />
    <result column="type" property="type" jdbcType="INTEGER" />
    <result column="pid" property="pid" jdbcType="INTEGER" />
    <result column="checked" property="checked" jdbcType="INTEGER" />
    <result column="pics" property="pics" jdbcType="VARCHAR" />
    <result column="area" property="area" jdbcType="VARCHAR" />
    <result column="trade_id" property="tradeId" jdbcType="INTEGER" />
    <result column="content" property="content" jdbcType="LONGVARCHAR" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from t_circle
    where id = #{id}
  </delete>
  <insert id="insert" parameterType="com.tonghang.server.entity.TCircle" >
    <selectKey resultType="java.lang.Integer" keyProperty="id" order="BEFORE" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into t_circle (id, title, hot, 
      datetime, pic, page_view, 
      favour, comment, type, 
      pid, checked, pics, area, 
      trade_id, content)
    values (#{id}, #{title}, #{hot}, 
      #{datetime}, #{pic}, #{pageView}, 
      #{favour}, #{comment}, #{type}, 
      #{pid}, #{check}, #{pics}, #{area}, 
      #{tradeId}, #{content})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.tonghang.server.entity.TCircle" >
    update t_circle
    set title = #{title},
      hot = #{hot},
      datetime = #{datetime},
      pic = #{pic},
      page_view = #{pageView},
      favour = #{favour},
      comment = #{comment},
      type = #{type},
      pid = #{pid},
      checked = #{checked},
      pics = #{pics},
      area = #{area},
      trade_id = #{tradeId},
      content = #{content}
    where id = #{id}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select *
    from t_circle
    where id = #{id}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    select *
    from t_circle
  </select>
  <select id="getCircleUnCheck" resultMap="BaseResultMap">
  	select *
    from t_circle
    where checked is null
  </select>
  <select id="getCircleChecked" resultMap="BaseResultMap">
  	select *
    from t_circle
    where checked is not null
  </select>
</mapper>